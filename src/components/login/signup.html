<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }

        .nen {
            position: absolute;
            top: 0;
            left: 0;
            background-image: url('/src/assets/imglogin/SignUp.jpg');
            background-size: cover;
            background-position: center;
            width: 100%;
            height: 100%;
        }

        .revert {

            display: flex;
            justify-content: space-between;
            position: absolute;
            height: 20px;
            top: 64px;
            left: 40px;
            gap: 24px;
            opacity: 0px;
            /* background-color: red; */
            color: #FFFFFF;
            font-size: 24px;

        }

        .revert p {
            width: 88px;
            height: 28px;
            gap: 0px;
            opacity: 0px;
            font-family: Roboto;
            font-size: 24px;
            font-weight: 700;
            line-height: 28.13px;
            text-align: left;
            margin: 0px;
        }

        .container {
            position: absolute;
            /* Thêm dòng này */
            width: 520px;
            height: 600px;
            top: 64px;
            left: 612px;
            background: #FFFFFF;
            /* Xóa thuộc tính opacity: 0px; vì nó làm container bị ẩn */
        }

        .title {
            width: 263px;
            height: 42px;
            top: 98px;
            left: 80px;
            gap: 0px;
            opacity: 0px;
            font-family: Roboto;
            font-size: 30px;
            font-weight: 700;
            line-height: 42.19px;
            text-align: left;
            color: #000000;
            padding: 90px 80px 0px;
        }

        .content1 {
            padding: 5px 80px 0px;
        }

        .content1 p {
            width: 300px;
            height: 20px;
            top: 204px;
            left: 80px;
            gap: 0px;
            opacity: 0px;
            font-family: Roboto;
            font-size: 18px;
            font-weight: 400;
            line-height: 28px;
            text-align: left;
            color: #333333;
        }

        .phone-input-container {
            width: 280px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #ccc;
            padding: 5px 0;
        }

        .phone-input {
            border: none;
            outline: none;
            flex-grow: 1;
        }

        .phone-input::placeholder {
            color: #9DA8BE;
        }

        .password-input-container {
            width: 280px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #ccc;
            padding: 5px 0;
        }

        .password-input {
            border: none;
            outline: none;
            flex-grow: 1;
        }

        .password-input::placeholder {
            color: #9DA8BE;
        }

        /* nhập lại mật khẩu */
        .confirm-password-input-container {
            width: 280px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #ccc;
            padding: 5px 0;

        }

        .confirm-password-input {
            border: none;
            outline: none;
            flex-grow: 1;
        }

        .confirm-password-input::placeholder {
            color: #9DA8BE;
        }

        .btn1 {
            padding: 18px 80px 0px;
        }

        .btn2 {
            padding: 0px 80px 0px;
        }

        .btn1-content {
            width: 280px;
            height: 40px;
            top: 468px;
            left: 80px;
            padding: 8px 10px 12px 8px;
            gap: 12px;
            border-radius: 5.07px;
            opacity: 0px;
            background: #1A2C50;
            color: #FFFFFF;
            font-family: Roboto;
            font-size: 16px;
            font-weight: bold;
            line-height: 23.44px;
            text-align: center;
        }

        .btn1-content:hover {
            background-color: #122b5f;
        }

        .footer p {
            width: 233px;
            height: 14px;
            top: 718px;
            left: 80px;
            gap: 0px;
            opacity: 0px;
            font-family: Roboto;
            font-size: 10px;
            font-weight: 400;
            line-height: 14.06px;
            text-align: left;
            padding: 65px 80px 3px;
            color: #000000;
        }
    </style>
</head>

<body>
    <div class="nen">
        <a href="./login.html">
            <div class="revert">
                <i class="fas fa-arrow-left"></i>
                <p>Kembali</p>
            </div>
        </a>
        <div class="container">
            <div class="title">
                Daftar TIX ID
            </div>
            <div class="content1">
                <p>
                    NOMOR HANDPHONE
                </p>
                <div class="phone-input-container">
                    <input type="number" id="phone" class="phone-input" placeholder="Masukkan Nomor Handphone">
                </div>
            </div>
            <div class="content1">
                <p>
                    PASSWORD
                </p>
                <div class="password-input-container">
                    <input type="password" id="password" class="password-input" placeholder="Masukkan Input">
                </div>
            </div>
            <div class="content1">
                <p>
                    MASUKKAN KEMBALI KATA SANDI
                </p>
                <div class="confirm-password-input-container">
                    <input type="password" id="confirmPassword" class="confirm-password-input"
                        placeholder="Masukkan Input">
                </div>
            </div>
            <br><br>
            <div class="btn1">
                <button class="btn1-content">Masuk Sekarang</button>
            </div>
            <div class="footer">
                <p>
                    2021 TIX ID - PT Nusantara Elang Sejahtera.
                </p>
            </div>
        </div>
    </div>
</body>
<script>
    document.querySelector('.btn1-content').addEventListener('click', function () {
        // Lấy giá trị từ các ô input
        const phone = document.getElementById('phone').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        // Kiểm tra mật khẩu có khớp không
        if (password !== confirmPassword) {
            alert('Mật khẩu không khớp, vui lòng kiểm tra lại!');
            return;
        }

        // Kiểm tra độ dài của số điện thoại (giả sử yêu cầu 10 số)
        if (phone.length !== 10) {
            alert('Số điện thoại phải có đúng 10 chữ số. Vui lòng kiểm tra lại.');
            return;
        }

        // Lấy danh sách người dùng đã lưu từ localStorage, nếu chưa có thì tạo mảng mới
        let userDataArray = JSON.parse(localStorage.getItem('userDataArray')) || [];

        // Kiểm tra xem số điện thoại đã tồn tại chưa
        const isPhoneExists = userDataArray.some(user => user.phone === phone);

        if (isPhoneExists) {
            alert('Số điện thoại này đã được đăng ký. Vui lòng sử dụng số điện thoại khác.');
            return; // Dừng lại nếu số điện thoại đã tồn tại
        }

        // Tạo đối tượng để lưu trữ thông tin người dùng mới
        const newUserData = {
            phone: phone,
            password: password
        };

        // Thêm người dùng mới vào mảng
        userDataArray.push(newUserData);

        // Lưu mảng cập nhật lại vào localStorage
        localStorage.setItem('userDataArray', JSON.stringify(userDataArray));

        // Thông báo cho người dùng
        alert('Đăng ký thành công! Thông tin đã được lưu.');
        window.location.href = 'login.html';
    });
</script>

</html>